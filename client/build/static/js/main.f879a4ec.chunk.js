(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{184:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(24),r=n.n(a),o=n(22),i=n(10),u=n(13),l=n.n(u),j=n(25),d=n(9),b=n(222),m=n(239),h=n(223),f=n(236),O=n(224),p=n(16),x=n.n(p),v=n(125),g=(n(155),v.a.initializeApp({apiKey:"AIzaSyD0IE0e4ptIKGDdMrZ9f_M8afGslaR2g2M",authDomain:"cs300-auth.firebaseapp.com",projectId:"cs300-auth",storageBucket:"cs300-auth.appspot.com",messagingSenderId:"1024475707752",appId:"1:1024475707752:web:5a931e01e5e48c5e3fbedd"})),w=g.auth(),N=n(1),y=s.a.createContext();function R(){return Object(c.useContext)(y)}function S(e){var t=e.children,n=Object(c.useState)(),s=Object(d.a)(n,2),a=s[0],r=s[1],o=Object(c.useState)(!0),i=Object(d.a)(o,2),u=i[0],b=i[1];function m(){return(m=Object(j.a)(l.a.mark((function e(t,n,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.createUserWithEmailAndPassword(t,n).then((function(e){e.user.updateProfile({displayName:c}).then((function(){r({displayName:c})})).then((function(){x.a.post("".concat("http://192.168.0.50:4000","/users/"),{email:e.user.email,uid:e.user.uid,user_name:e.user.displayName})}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.signInWithEmailAndPassword(t,n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}Object(c.useEffect)((function(){console.log("current user changed")}),[a]);Object(c.useEffect)((function(){return w.onAuthStateChanged((function(e){r(e),b(!1)}))}),[a]);var f={currentUser:a,IsUserNameAvailable:function(e){return new Promise((function(t,n){x.a.get("".concat("http://192.168.0.50:4000","/users/").concat(e,"/exists")).then((function(e){console.log("user name is not available."),n()})).catch((function(n){t(e)}))}))},signup:function(e,t,n){return m.apply(this,arguments)},login:function(e,t){return h.apply(this,arguments)},logout:function(){return new Promise((function(e,t){w.signOut().then((function(){e("user signed out")})).catch((function(e){t(e)}))}))},resetPassword:function(e){return w.sendPasswordResetEmail(e)}};return Object(N.jsx)(y.Provider,{value:f,children:!u&&t})}var C=s.a.createContext();function k(){return Object(c.useContext)(C)}function P(e){var t=e.children,n=R(),c=n.currentUser,s=n.signup;var a={postNewUser:function(e,t,n){s(e,t,n).then((function(e){var t=e.user;console.log(t).then((function(e){return console.log(e),e})).catch((function(e){return console.log(e),e}))})).catch((function(e){return e}))},acceptRequest:function(e){return new Promise((function(t,n){x.a.post("".concat("http://192.168.0.50:4000","/users/accept-friend"),{from_uid:c.uid,to_uid:e}).then((function(e){t(e.data)})).catch((function(e){console.log(e)}))}))},postNewRoomFromUser:function(e){return new Promise((function(t,n){x.a.post("".concat("http://192.168.0.50:4000","/rooms/").concat(c.uid),{topic:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},getRoomsWithUser:new Promise((function(e,t){null!==c?x.a.get("".concat("http://192.168.0.50:4000","/users/rooms/").concat(c.uid)).then((function(t){e(t.data)})).catch((function(e){console.log(e)})):t("user not logged in")})).catch((function(e){console.log(e)})),getRoomMessages:function(e){return new Promise((function(t,n){x.a.get("".concat("http://192.168.0.50:4000","/rooms/").concat(e)).then((function(e){t(e.data.messages)})).catch((function(e){console.log(e)}))}))},postMessageToRoom:function(e,t){var n={uid:c.uid,message_body:t};return new Promise((function(c,s){null===t&&s(Error("message is undefined")),x.a.post("".concat("http://192.168.0.50:4000","/rooms/").concat(e,"/messages"),n).then((function(e){c(e.data.result)})).catch((function(e){s(e)}))}))},getUserFromId:function(e){return new Promise((function(e,t){x.a.get("".concat("http://192.168.0.50:4000","/users/").concat(c.uid)).then((function(t){e(t.data)})).catch((function(e){console.log(e)}))}))},deleteFriend:function(e){var t={friend_uid:e};return new Promise((function(e,n){x.a.post("".concat("http://192.168.0.50:4000","/users/").concat(c.uid,"/friends"),t).then((function(t){e(t)})).catch((function(e){n(e)}))}))},deleteRoom:function(e){return new Promise((function(t,n){x.a.post("".concat("http://192.168.0.50:4000","/rooms/").concat(e,"/remove"),{headers:{"Content-Type":"text/plain"}}).then((function(e){t(e)})).catch((function(e){n(e)}))}))},addFriend:function(e){return new Promise((function(t,n){x.a.post("".concat("http://192.168.0.50:4000","/users/").concat(c.uid,"/add-friend"),{user_name:e}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}};return Object(N.jsx)(C.Provider,{value:a,children:t})}var I=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),s=Object(c.useRef)(),a=R(),r=(a.currentUser,a.signup),u=a.IsUserNameAvailable,p=(k().postNewUser,Object(c.useState)("")),x=Object(d.a)(p,2),v=x[0],g=x[1],w=Object(c.useState)(!1),y=Object(d.a)(w,2),C=y[0],P=y[1],I=Object(i.f)();function T(){return(T=Object(j.a)(l.a.mark((function c(a){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),t.current.value===n.current.value){c.next=3;break}return c.abrupt("return",g("Passwords do not match"));case 3:g(""),P(!0),u(s.current.value).then((function(n){r(e.current.value,t.current.value,n).then((function(){return I.push("/")}))})).catch((function(){return g("error creating account")})).finally((function(){return P(!1)}));case 6:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return Object(c.useEffect)((function(){}),[C]),Object(N.jsx)(S,{children:Object(N.jsx)(b.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(N.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(N.jsx)(m.a,{children:Object(N.jsxs)(m.a.Body,{children:[Object(N.jsx)("h2",{className:"text-center mb-4",children:" Sign Up"}),v&&Object(N.jsx)(h.a,{variant:"danger",children:v}),Object(N.jsxs)(f.a,{onSubmit:function(e){return T.apply(this,arguments)},children:[Object(N.jsxs)(f.a.Group,{id:"email",children:[Object(N.jsx)(f.a.Label,{children:"Email"}),Object(N.jsx)(f.a.Control,{type:"email",ref:e,required:!0})]}),Object(N.jsxs)(f.a.Group,{id:"user-name",children:[Object(N.jsx)(f.a.Label,{children:"User Name"}),Object(N.jsx)(f.a.Control,{type:"text",ref:s,required:!0})]}),Object(N.jsxs)(f.a.Group,{id:"password",children:[Object(N.jsx)(f.a.Label,{children:"Password"}),Object(N.jsx)(f.a.Control,{type:"password",ref:t,required:!0})]}),Object(N.jsxs)(f.a.Group,{id:"password-confirm",children:[Object(N.jsx)(f.a.Label,{children:"Password Confirmation"}),Object(N.jsx)(f.a.Control,{type:"password",ref:n,required:!0})]}),Object(N.jsx)(O.a,{disabled:C,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(N.jsxs)("div",{className:"w-100 text-center my-2",children:["already have an account? ",Object(N.jsx)(o.b,{to:"login",children:"Login"})]})]})})})},T=n(47),_=n(131);function U(e){var t=e.component,n=Object(_.a)(e,["component"]),c=R().currentUser;return Object(N.jsx)(i.b,Object(T.a)(Object(T.a)({},n),{},{render:function(e){return c?Object(N.jsx)(t,Object(T.a)({},e)):Object(N.jsx)(i.a,{to:"/login"})}}))}var L,M=n(62),F=n(31),E=n(32),D=n(34),A=n(33),q=n(225),G=n(128),B=function(e){Object(D.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.currentUser,n=e.handleLogout;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(q.a,{className:"top-row",children:Object(N.jsxs)(G.a,{md:"6",className:"user-header-back",children:[Object(N.jsx)("strong",{className:"user-header",children:t.displayName}),Object(N.jsx)(O.a,{variant:"link",onClick:n,children:"Log out"})]})})})}}]),n}(c.Component),W=n(227),H=n(228),K=n(230),z=n(231),Y=n(232),J=n(233),X=n(237),Z=n(226),Q=n(229),V=function(e){Object(D.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleTabChange,n=e.friendsList,c=e.handleRightClickFriend,s=e.handleRightClickRoom,a=e.handleRemoveFriend,r=e.handleAcceptPending,o=e.rooms,i=e.handleSwitchRoom,u=e.handleShow,l=e.tab;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(G.a,{xs:"3",className:"contacts debug",children:[Object(N.jsx)(q.a,{className:"tab-row",children:Object(N.jsxs)(X.a,{onSelect:t,className:"tab-container",children:[Object(N.jsx)(Z.a,{eventKey:"home",title:Object(N.jsxs)("span",{children:[Object(N.jsx)(W.a,{className:"tab-icon"})," home"]}),className:"filled-tab"}),Object(N.jsx)(Z.a,{eventKey:"people",title:Object(N.jsxs)("span",{children:[Object(N.jsx)(H.a,{className:"tab-icon"})," people"]}),className:"filled-tab",children:Object(N.jsx)(q.a,{className:"menu",children:Object(N.jsxs)(Z.a.Container,{children:[Object(N.jsx)(Q.a,{className:"w-100 list-group-menu",children:n.friends?n.friends.map((function(e){return Object(N.jsx)(Q.a.Item,{action:!0,className:"list-item-rooms",onContextMenu:function(t){return c(t,e)},children:e.user_name+", status: "+e.status},e.uid+"friends")})):Object(N.jsx)("div",{})}),Object(N.jsxs)(Q.a,{className:"w-100 list-group-menu",children:[Object(N.jsx)("div",{className:"friends-divider",children:"Pending"}),n.received?n.received.map((function(e){return Object(N.jsx)(Q.a.Item,{className:"list-item-rooms",children:Object(N.jsx)("div",{children:Object(N.jsxs)(q.a,{children:[Object(N.jsx)("span",{className:"tab-item-name",children:e.user_name}),Object(N.jsxs)("div",{className:"tab-item-buttons",children:[Object(N.jsx)(O.a,{className:"tab-item-button",onClick:function(){return r(e.uid)},variant:"success",children:Object(N.jsx)(K.a,{})}),Object(N.jsx)(O.a,{className:"tab-item-button",onClick:function(t){return a(t,e.uid)},variant:"danger",children:Object(N.jsx)(z.a,{})})]})]})})},e.uid+"friends-pending")})):Object(N.jsx)("div",{}),n.sent?n.sent.map((function(e){return Object(N.jsx)(Q.a.Item,{className:"list-item-rooms",children:Object(N.jsx)("div",{children:Object(N.jsxs)(q.a,{children:[Object(N.jsx)("span",{className:"tab-item-name",children:e.user_name}),Object(N.jsx)("div",{className:"tab-item-buttons",children:Object(N.jsx)(O.a,{className:"tab-item-button",onClick:function(t){return a(t,e.uid)},variant:"danger",children:Object(N.jsx)(z.a,{})})})]})})},e.uid+"friends-pending")})):Object(N.jsx)("div",{})]})]})})}),Object(N.jsx)(Z.a,{eventKey:"rooms",title:Object(N.jsxs)("span",{children:[Object(N.jsx)(Y.a,{className:"tab-icon"})," rooms"]}),className:"filled-tab",children:Object(N.jsx)(q.a,{className:"menu",children:Object(N.jsx)(Z.a.Container,{children:Object(N.jsx)(Q.a,{className:"w-100 list-group-menu",children:o?o.map((function(e){return Object(N.jsx)(Q.a.Item,{action:!0,className:"list-item-rooms",onClick:function(){return i(e._id)},onContextMenu:function(t){return s(t,e)},children:e.topic},e._id+"rooms")})):Object(N.jsx)("div",{})})})})})]})}),Object(N.jsx)(q.a,{className:"add-item",children:Object(N.jsx)(G.a,{className:"add-item",children:"rooms"===l||"people"===l?Object(N.jsx)(O.a,{onClick:u,className:"add-room-btn",children:Object(N.jsx)(J.a,{})}):Object(N.jsx)("div",{})})})]})})}}]),n}(c.Component),$=n(129),ee=n(89),te=n.n(ee),ne=function(e){Object(D.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.room,n=e.messages,c=e.handleSubmit,s=e.formRef,a=e.messageRef;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(G.a,{className:"chat debug",children:[Object(N.jsxs)(q.a,{children:[Object(N.jsx)(G.a,{className:"line"}),Object(N.jsx)(m.a,{className:"chat-info",children:Object(N.jsx)(m.a.Body,{children:Object(N.jsx)("h1",{className:"small-font",children:t.topic})})}),Object(N.jsx)(G.a,{className:"line"})]}),Object(N.jsx)(q.a,{className:"messages",children:Object(N.jsx)(te.a,{className:"w-100",debug:!1,children:Object(N.jsx)(Q.a,{className:"w-100",children:n?n.map((function(e,t){return Object(N.jsxs)($.a,{header:"yo",className:"w-100 message",children:[Object(N.jsx)("div",{className:"message-author",children:e.user.user_name}),Object(N.jsx)("p",{children:e.message_body})]},t+"message")})):Object(N.jsx)("div",{children:"..."})})})}),Object(N.jsx)(q.a,{className:"text-field-row",children:Object(N.jsx)(f.a,{ref:s,onSubmit:c,className:"text-box",children:Object(N.jsxs)(f.a.Row,{children:[Object(N.jsx)(G.a,{className:"form-text-field",children:Object(N.jsx)(f.a.Group,{id:"Message",children:Object(N.jsx)(f.a.Control,{className:"w-100 message-field",type:"text",ref:a})})}),Object(N.jsx)(G.a,{xs:"1",className:"form-button-submit",children:Object(N.jsx)(O.a,{className:"w-100",type:"submit",children:"Send"})})]})})})]})})}}]),n}(c.Component),ce=(n(184),n(185),n(238)),se=n(235),ae=n(130),re=n.n(ae),oe=n(234),ie=function(e){Object(D.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.xPos,n=e.yPos,c=e.rooms,s=e.handleMouseLeave,a=e.handleInviteToRoom,r=e.setShowRoomToolTip,o=e.renderInviteToolTip,i=e.showRoomToolTip,u=e.handleRemoveFriend;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Q.a,{style:{top:"".concat(n-10,"px"),left:"".concat(t-10,"px"),position:"absolute",zIndex:"100",paddingRight:40},onMouseLeave:s,children:[Object(N.jsx)("div",{onMouseOver:function(){c[0]&&r(!0)},onMouseOut:function(){return r(!1)},children:Object(N.jsx)(oe.a,{placement:"right-start",delay:{show:350,hide:200},overlay:o,show:i,children:Object(N.jsx)(Q.a.Item,{action:!0,className:"list-item-rooms-context",onClick:a,children:"add to room"})})}),Object(N.jsx)(Q.a.Item,{action:!0,className:"list-item-rooms-context",onClick:u,children:"remove friend"})]})})}}]),n}(c.Component),ue=function(e){Object(D.a)(n,e);var t=Object(A.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.xPos,n=e.yPos,c=e.handleEditRoom,s=e.handleMouseLeave,a=e.setShowRoomToolTip,r=e.handleRemoveRoom;return Object(N.jsxs)(Q.a,{style:{top:"".concat(n-10,"px"),left:"".concat(t-10,"px"),position:"absolute",zIndex:"100",paddingRight:40},onMouseLeave:s,children:[Object(N.jsx)("div",{onMouseOver:function(){return a(!0)},onMouseOut:function(){return a(!1)},children:Object(N.jsx)(Q.a.Item,{action:!0,className:"list-item-rooms-context",onClick:function(e){return c(e)},children:"edit room"})}),Object(N.jsx)(Q.a.Item,{action:!0,className:"list-item-rooms-context",onClick:r,children:"delete room"})]})}}]),n}(c.Component),le=function(){var e=R(),t=e.currentUser,n=e.logout,s=k(),a=s.postNewRoomFromUser,r=s.acceptRequest,o=s.getRoomsWithUser,u=s.getRoomMessages,m=s.postMessageToRoom,h=s.deleteFriend,p=s.deleteRoom,v=s.addFriend,g=Object(c.useState)(!1),w=Object(d.a)(g,2),y=w[0],S=w[1],C=function(){return S(!1)},P=Object(c.useState)(""),I=Object(d.a)(P,2),_=(I[0],I[1]),U=Object(i.f)(),F=Object(c.useState)(""),E=Object(d.a)(F,2),D=E[0],A=E[1],W=Object(c.useState)([]),H=Object(d.a)(W,2),K=H[0],z=H[1],Y=Object(c.useState)({accepted:[],sent:[],received:[]}),J=Object(d.a)(Y,2),X=J[0],Z=J[1],$=Object(c.useState)([]),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],oe=Object(c.useState)({}),le=Object(d.a)(oe,2),je=le[0],de=le[1],be=Object(c.useRef)(),me=Object(c.useRef)(),he=Object(c.useRef)(),fe=Object(c.useState)("0px"),Oe=Object(d.a)(fe,2),pe=Oe[0],xe=Oe[1],ve=Object(c.useState)("0px"),ge=Object(d.a)(ve,2),we=ge[0],Ne=ge[1],ye=Object(c.useState)(!1),Re=Object(d.a)(ye,2),Se=Re[0],Ce=Re[1],ke=Object(c.useState)(!1),Pe=Object(d.a)(ke,2),Ie=Pe[0],Te=Pe[1],_e=Object(c.useState)(),Ue=Object(d.a)(_e,2),Le=Ue[0],Me=Ue[1],Fe=Object(c.useState)(),Ee=Object(d.a)(Fe,2),De=Ee[0],Ae=Ee[1],qe=Object(c.useState)(!1),Ge=Object(d.a)(qe,2),Be=Ge[0],We=Ge[1];function He(){x.a.get("".concat("http://192.168.0.50:4000","/users/").concat(t.uid)).then((function(e){var t=e.data.friends.filter((function(e){return 2===e.status})),n=e.data.friends.filter((function(e){return 0===e.status})),c=e.data.friends.filter((function(e){return 1===e.status}));console.log("friends",X),Z({friends:t,sent:n,received:c})})).catch((function(e){console.log(e)}))}function Ke(){me.current.reset()}function ze(){return(ze=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),m(je._id,he.current.value).then((function(e){L.emit("send-message",t,je._id,e,(function(t){t.callback;ae([].concat(Object(M.a)(te),[e]))})),Ke()})).catch();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(){return(Ye=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),a(be.current.value).then((function(e){L.emit("create-room",t,be.current.value,(function(t){t.callback;z([].concat(Object(M.a)(K),[e.data.createdRoom]))})),C()})).catch((function(e){console.log("error with post room")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,n){e.preventDefault(),h(n).then((function(e){console.log(e),L.emit("remove-friend",t,n,(function(t){t.callback;Z(e.data.result.friends)}))})).catch((function(e){console.log(e)}))}function Xe(e){je?x.a.post("".concat("http://192.168.0.50:4000","/rooms/").concat(e,"/add-user"),{uid:Le.uid}).then((function(e){console.log(e),Ce(!1)})).catch((function(e){console.log(e)})):console.log("You need to be in a room!"),Me()}function Ze(){Ce(!1),Te(!1)}Object(c.useEffect)((function(){var e=!0;return e&&o.then((function(e){e&&z(Object(M.a)(e.result))})).catch((function(e){console.log(e)})),function(){return e=!1}}),[y]),Object(c.useEffect)((function(){var e=!0;return e&&He(),function(){return e=!1}}),[D]),Object(c.useEffect)((function(){return L=re()("".concat("http://192.168.0.50:4000")),function(){L.off()}}),["".concat("http://192.168.0.50:4000")]),Object(c.useEffect)((function(){L.on("welcome",(function(e){console.log(e)})),L.on("message-recieved",(function(e){console.log(e),ae((function(t){return[].concat(Object(M.a)(t),[e.message])}))})),L.on("remove-friend-reponse",(function(e,n){t.uid===n&&console.log("A user removed me as a friend :(")}))}),[]);return Object(N.jsxs)(b.a,{fluid:!0,className:"main",children:[Object(N.jsx)(B,{currentUser:t,handleLogout:function(){_(""),n().then((function(){L.disconnect(),U.push("/login")})).catch((function(e){_(e)}))}}),Object(N.jsxs)(q.a,{className:"main-row",children:[Object(N.jsx)(V,{handleTabChange:function(e){A(e)},friendsList:X,handleRightClickFriend:function(e,t){e.preventDefault(),Me(t),xe(e.pageX),Ne(e.pageY),Ce(!0)},handleRightClickRoom:function(e,t){e.preventDefault(),Ae(t),xe(e.pageX),Ne(e.pageY),Te(!0)},handleRemoveFriend:Je,handleAcceptPending:function(e){console.log(e),r(e).then((function(n){L.emit("accept-request",t,e,(function(e){e.callback;He()}))}))},rooms:K,handleSwitchRoom:function(e){var n=K.find((function(t){return t._id===e}));null!==n&&u(e).then((function(e){ae(e),de(n)})).then((function(){L.emit("join",t.displayName,n._id,(function(e){var t=e.message;console.log(t)}))}))},handleShow:function(){return S(!0)},tab:D}),Object(N.jsx)(ne,{room:je,messages:te,handleSubmit:function(e){return ze.apply(this,arguments)},formRef:me,messageRef:he}),Object(N.jsxs)(G.a,{lg:"2",className:"members",children:[Object(N.jsx)(q.a,{className:"room-details",children:Object(N.jsx)("div",{className:"details",children:je?Object(N.jsx)("div",{children:je.topic}):Object(N.jsx)("di",{})})}),Object(N.jsx)(q.a,{className:"member-details",children:Object(N.jsxs)(Q.a,{className:"w-100 list-members",children:["Members",je.owner&&je.owner[0]?Object(N.jsx)(Q.a.Item,{action:!0,className:"list-item-rooms",children:je.owner[0].user_name},"ownermember-list"):null,je.users?je.users.map((function(e,t){return Object(N.jsx)(Q.a.Item,{action:!0,className:"list-item-rooms",children:e.user_name},t+"member-list")})):Object(N.jsx)("div",{})]})})]})]}),Se?Object(N.jsx)(ie,{xPos:pe,yPos:we,rooms:K,handleMouseLeave:Ze,setShowRoomToolTip:We,handleInviteToRoom:Xe,renderInviteToolTip:function(e){return Object(N.jsx)(ce.a,Object(T.a)(Object(T.a)({id:"invite-tooltip"},e),{},{onMouseOut:function(){return We(!1)},children:Object(N.jsx)(ce.a.Content,{children:Object(N.jsx)(Q.a,{className:"",children:K?K.map((function(e){return Object(N.jsx)(Q.a.Item,{action:!0,className:"list-item-rooms",onClick:function(){return Xe(e._id)},children:e.topic},e._id+"room-invite-choice")})):null})})}))},showRoomToolTip:Be,handleRemoveFriend:Je}):null,Ie?Object(N.jsx)(ue,{xPos:pe,yPos:we,handleMouseLeave:Ze,setShowRoomToolTip:We,handleEditRoom:function(e){e.preventDefault(),console.log("editing room")},showRoomToolTip:Be,handleRemoveRoom:function(e){e.preventDefault();var n=K.filter((function(e){return e._id!=De._id}));Te(!1),p(De._id).then((function(e){L.emit("remove-room",t,De._id,(function(e){e.callback;z(n)})),Ae()})).catch((function(e){console.log(e)}))}}):null,Object(N.jsxs)(se.a,{show:y,onHide:C,children:[Object(N.jsx)(se.a.Header,{closeButton:!0,children:"rooms"===D?Object(N.jsx)(se.a.Title,{children:"Create new Room"}):Object(N.jsx)(se.a.Title,{children:"Add User"})}),Object(N.jsx)(se.a.Body,{children:Object(N.jsxs)(f.a,{className:"text-box",onSubmit:"rooms"===D?function(e){return Ye.apply(this,arguments)}:function(e){var n;e.preventDefault();try{n=X.friends.find((function(e){return e.user_name===be.current.value}))}catch(c){console.log(c.message)}n?console.log("friend already exists"):(v(be.current.value).then((function(e){L.emit("add-friend",t,e.data.recipientUid,(function(e){e.callback;He()}))})).catch((function(e){console.log(e)})),C())},children:[Object(N.jsx)(f.a.Group,{id:"Message",children:Object(N.jsx)(f.a.Control,{className:"w-100 message-field",type:"text",ref:be})}),Object(N.jsx)(O.a,{variant:"secondary",onClick:C,children:"Close"}),Object(N.jsx)(O.a,{variant:"primary",type:"submit",children:"Save Changes"})]})}),Object(N.jsx)(se.a.Footer,{})]})]})},je=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=R().login,s=Object(c.useState)(""),a=Object(d.a)(s,2),r=a[0],u=a[1],p=Object(c.useState)(!1),x=Object(d.a)(p,2),v=x[0],g=x[1],w=Object(i.f)();function y(){return(y=Object(j.a)(l.a.mark((function c(s){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s.preventDefault(),c.prev=1,u(""),g(!0),c.next=6,n(e.current.value,t.current.value);case 6:w.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),u("Failed to Log In");case 12:g(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(N.jsx)(S,{children:Object(N.jsx)(b.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(N.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(N.jsx)(m.a,{children:Object(N.jsxs)(m.a.Body,{children:[Object(N.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),r&&Object(N.jsx)(h.a,{variant:"danger",children:r}),Object(N.jsxs)(f.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(N.jsxs)(f.a.Group,{id:"email",children:[Object(N.jsx)(f.a.Label,{children:"Email"}),Object(N.jsx)(f.a.Control,{type:"email",ref:e,required:!0})]}),Object(N.jsxs)(f.a.Group,{id:"password",children:[Object(N.jsx)(f.a.Label,{children:"Password"}),Object(N.jsx)(f.a.Control,{type:"password",ref:t,required:!0})]}),Object(N.jsx)(O.a,{disabled:v,className:"w-100",type:"submit",children:"Log In"})]}),Object(N.jsx)("div",{className:"w-100 text-center mt-2",children:Object(N.jsx)(o.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(N.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an Account? ",Object(N.jsx)(o.b,{to:"/signup",children:"Sign Up"})]})]})})})},de=function(){var e=Object(c.useRef)(),t=R().resetPassword,n=Object(c.useState)(""),s=Object(d.a)(n,2),a=s[0],r=s[1],u=Object(c.useState)(""),p=Object(d.a)(u,2),x=p[0],v=p[1],g=Object(c.useState)(!1),w=Object(d.a)(g,2),y=w[0],C=w[1];Object(i.f)();function k(){return(k=Object(j.a)(l.a.mark((function n(c){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,v(""),r(""),C(!0),n.next=7,t(e.current.value);case 7:v("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),r("Failed to reset password");case 13:C(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return Object(N.jsx)(S,{children:Object(N.jsx)(b.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(N.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(N.jsx)(m.a,{children:Object(N.jsxs)(m.a.Body,{children:[Object(N.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),a&&Object(N.jsx)(h.a,{variant:"danger",children:a}),x&&Object(N.jsx)(h.a,{variant:"success",children:x}),Object(N.jsxs)(f.a,{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(N.jsxs)(f.a.Group,{id:"email",children:[Object(N.jsx)(f.a.Label,{children:"Email"}),Object(N.jsx)(f.a.Control,{type:"email",ref:e,required:!0})]}),Object(N.jsx)(O.a,{disabled:y,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(N.jsx)("div",{className:"w-100 text-center mt-2",children:Object(N.jsx)(o.b,{to:"/login",children:"Log In"})})]})}),Object(N.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an Account? ",Object(N.jsx)(o.b,{to:"/signup",children:"Sign Up"})]})]})})})},be=function(){return Object(N.jsx)(S,{children:Object(N.jsx)(P,{children:Object(N.jsxs)(o.a,{children:[Object(N.jsx)(U,{path:"/",exact:!0,component:le}),Object(N.jsx)(i.b,{path:"/login",component:je}),Object(N.jsx)(i.b,{path:"/signup",component:I}),Object(N.jsx)(i.b,{path:"/forgot-password",component:de})]})})})};r.a.render(Object(N.jsx)(be,{}),document.querySelector("#root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.f879a4ec.chunk.js.map